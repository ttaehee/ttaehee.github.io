---
title: CS) MSA
excerpt: MicroService Architecture
---

## Monolithic Architecture    
전체 애플리케이션의 소스 코드를 하나의 배포 유닛(war 또는 ear)으로 내장    
(application 개발 초기에 사용)  

<br/>  

**단점**     
- 서비스/프로젝트가 커지면 커질수록, 영향도 파악 및 전체 시스템 구조의 파악 어려움  
- 빌드 시간 및 테스트시간, 배포시간 기하급수적으로 늘어남  
- 서비스를 부분적으로 scale-out하기가 힘듬  
- 부분의 장애가 전체 서비스의 장애로 이어지는 경우가 발생함  

<br/><br/>  

## MSA(MicroService Architecture)  
모놀리식 문제점 해결위해 MicroService Architecture 기반의 접근 방식이 탄생
- `하나의 큰 어플리케이션`을 `여러개의 작은 어플리케이션으로` 쪼개어 변경과 조합이 가능하도록 만든 아키텍쳐     
- 서비스나 프로젝트가 크고, 복잡하고, 장기적으로 운영될 수록, MSA의 장점이 더욱 드러남  

![제목 없음](https://user-images.githubusercontent.com/103614357/194756785-61be6c3f-6ab1-44d1-8248-7b95df27f5f0.png)  

- application을 핵심 기능으로 세분화  
- 각 기능을 Service라고 부르며, 독립적으로 구축하고 배포할 수 있게 됨  
- 각각의 서비스는 그 크기가 작을 뿐, 서비스 자체는 하나의 모놀리틱 아키텍쳐와 유사한 구조를 가짐

<br/>

- ex) 온라인 쇼핑몰 사이트에서   
  - 제품 검색 기능도 하나의 서비스     
  - 구매를 추천해주는 추천 내역도 하나의 서비스  
  - 장바구니 역시 하나의 서비스   

<br/>

### MSA의 장점  
서비스가 커지면서 생겼던 Monolithic Architecture의 문제점들 어느정도 보완가능  

- 출시 기간 단축
  - 분산형 개발을 통해 효율적인 개발 가능
- 뛰어난 복구 능력  
  - 개별 서비스가 다른 서비스에 부정적인 영향을 주지 않으면서 작동할 수 있음(장애가 전체 서비스로 확장될 가능성이 적음)  
  - 부분적 장애에 대한 격리가 수월함
- 높은 확장성((scaling)  
  - 다른 서비스들과 유연하게 결합하며(언어의 제약 X) 향후 확장 및 새로운 기능 통합 등에 대비할 수 있음
  - 클라우드 사용에 적합한 아키텍쳐  
- 손쉬운 배포
  - 기존의 모놀리식에 비해 더욱 모듈화되었기 때문에 배포에 따른 우려 사항들이 적어짐  
  - 서비스 별 개별 배포 가능 = 배포 시 전체 서비스의 중단이 없음     

  => 요구사항을 신속하게 반영하여 빠르게 배포가능   
- 편리한 액세스   
  - 개발자들이 각각의 서비스를 파악하고 개선하기에 용이해짐    

<br/>

### MSA의 단점  
Monolithic Architecture은 단순한 아키텍쳐인데 비해 MSA는 보다 복잡한 아키텍쳐        
전체 서비스가 커짐에 따라 그 복잡도가 기하급수적으로 늘어날 수 있음    

- 경로 및 장애 추적  
  - 서비스에서 다른 서비스를 호출하므로   
    -> 서비스에 장애가 발생한 경우 경로 및 장애 추적이 힘들 수 있음    
  - 서비스별로 로그가 생성되기 때문에 중앙 로그 모니터링은 존재하지 않음

- 모니터링 오버헤드  
  - 큰 프로젝트에는 많은 서비스들이 존재  
    -> 모든 서비스를 모니터링 하는 오버헤드가 증가함   

- 성능   
  - 각 서비스 간 호출 시 API 통해 통신    
    -> 네트워크 통신에 의한 통신 비용이나, Latency(지연 또는 대기시간)가 그만큼 늘어남    

- 데이터 관리   
  - 데이터가 여러 서비스에 걸쳐 분산   
    -> 한번에 조회하기 어렵고, 데이터의 정합성 또한 관리 어려움    

- 테스트 / 트랜잭션   
  - 서비스가 분리되어 있으니  
    -> 테스트와 트랜잭션의 복잡도 증가 & 많은 자원 필요     
 

<br/><br/>

Reference   
https://www.redhat.com/ko/topics/microservices/what-are-microservices   
https://mangkyu.tistory.com/108?category=925341    
https://velog.io/@tedigom/MSA-%EC%A0%9C%EB%8C%80%EB%A1%9C-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0-1-MSA%EC%9D%98-%EA%B8%B0%EB%B3%B8-%EA%B0%9C%EB%85%90-3sk28yrv0e   
<br/>
