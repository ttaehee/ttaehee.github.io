---
title: Spring) Spring Security
excerpt: 스프링시큐리티
---

## Spring Security
Spring 기반의 애플리케이션의 `보안`(인증, 권한, 인가 등)을 담당하는 스프링 하위 프레임워크
- 인증과 권한에 대한 부분을 `Filter 흐름`에 따라 처리  
  - `인증`(Authentication) : 해당 사용자가 `본인이 맞는지` 확인
  - `인가`(Authorization) : 인증된 사용자가 요청한 자원에 `접근 가능한지` 확인
- 보안과 관련해서 체계적으로 많은 옵션을 제공   
  -> 개발자 입장에서는 일일이 보안관련 로직을 작성하지 않아도 된다는 장점   

<br/>

**참고) Filter와 Interceptor!**  - 적용시기의 차이
- `Filter` : Dispatcher Servlet으로 가기 전에 적용   
  -> 가장 먼저 URL 요청 받음
  - WebApplication에 등록(web.xml)
  - Security의 인증 절차는 Filter chain을 거쳐 dispatcherservlet으로 가기전에 적용  
    -> Filter chain 통해 걸러진 request 요청을 Interceptor 이용해서 전후 처리
- `Interceptor` : Dispatcher와 Controller사이에 위치 
  - context에 등록
  - 시큐리티 나오기 전 인증, 권한 체크 로직 많이 쓰였음

<br/>

### Credential 기반의 인증방식  
`Principal`(접근주체) : 접근하는 대상(아이디)  
`Credential`(비밀번호) : 접근하는 대상의 비밀번호 

<br/>

## Security 인증절차  

![qwe](https://user-images.githubusercontent.com/103614357/185633789-11063c1d-d056-4ede-b306-e18fab93894b.png)  

<br/>

## Spring Security 모듈  

![qwe](https://user-images.githubusercontent.com/103614357/185637828-b8896879-0c89-4b58-9d34-9459779d3a8c.png)  

### 1. SecurtyContextHolder  
보안 주체의 세부 정보를 포함, 응용프래그램의 현재 보안 컨텍스트에 대한 세부 정보가 저장   
- SecurityContextHolder.MODE_INHERITABLETHREADLOCAL 방법  
- SecurityContextHolder.MODE_THREADLOCAL 방법 제공  

### 2. SecurityContext  
Authentication을 보관하는 역할  
-> Authentication객체 꺼낼 수 있음

### 3. Authentication  
현재 접근하는 주체의 정보와 권한을 담는 인터페이스  

<br/><br/> 

Reference  
https://getinthere.tistory.com/29?category=884180
https://mangkyu.tistory.com/76  
https://blog.naver.com/PostView.naver?blogId=h850415&logNo=222755455272&parentCategoryNo=&categoryNo=37&viewDate=&isShowPopularPosts=true&from=search  
<br/>
